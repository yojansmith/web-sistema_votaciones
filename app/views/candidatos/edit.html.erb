<div class="container">
  <div class="form-wrapper">
    <h1 class="form-title">Editar Candidato</h1>

    <%= form_with model: @candidato, local: true do |f| %>
      
      <div class="form-group">
        <%= f.label :nombre, class: "form-label" %>
        <%= f.text_field :nombre, required: true, class: "form-input" %>
      </div>

      <div class="form-group">
        <%= f.label :propuesta, class: "form-label" %>
        <%= f.text_area :propuesta, required: true, class: "form-textarea", rows: 5 %>
      </div>

      <div class="form-group">
        <%= f.label :cargo, class: "form-label" %>
        <%= f.select :cargo_id, Cargo.all.collect { |c| [c.nombre, c.id] }, 
                     { prompt: "Seleccione un cargo" }, 
                     { class: "form-select" } %>
      </div>

      <div class="form-group">
        <%= f.label :partido, class: "form-label" %>
        <%= f.select :partido_id, Partido.all.collect { |p| [p.nombre, p.id] }, 
                     { prompt: "Seleccione un partido" }, 
                     { class: "form-select" } %>
      </div>

      <div class="form-group">
        <%= f.label :foto, "Foto del candidato", class: "form-label" %>
        
        <% if @candidato.foto.attached? %>
          <div class="current-photo">
            <%= image_tag @candidato.foto, width: 120, height: 120, class: "preview-image" %>
            <p class="current-photo-text">Foto actual</p>
          </div>
        <% end %>
        
        <%= f.file_field :foto, class: "form-file", accept: "image/*" %>
        <p class="form-help-text">Selecciona una nueva imagen solo si deseas cambiarla</p>
      </div>

      <div class="form-actions">
        <%= f.submit "Actualizar Candidato", class: "btn btn--primary" %>
        <%= link_to "Cancelar", new_voto_path, class: "btn btn--secondary" %>
      </div>

    <% end %>
  </div>
</div>
